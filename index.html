<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Технологии Газоочистки</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        :root { --accent: #00a8ff; }
        body { margin: 0; background: #121212; font-family: 'Segoe UI', Tahoma, sans-serif; overflow: hidden; color: white; }
        
        model-viewer { width: 100vw; height: 100vh; background-color: #121212; }

        /* Переключатель языков */
        .lang-switcher {
            position: absolute;
            top: 25px;
            right: 25px;
            z-index: 100;
            display: flex;
            gap: 8px;
            background: rgba(0,0,0,0.5);
            padding: 5px;
            border-radius: 8px;
        }

        .lang-btn {
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 14px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 14px;
            transition: 0.3s;
        }

        .lang-btn.active { background: var(--accent); border-color: var(--accent); font-weight: bold; }

        /* Инфо-панель */
        #info-panel {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 380px;
            background: rgba(25, 25, 25, 0.95);
            backdrop-filter: blur(15px);
            border-left: 5px solid var(--accent);
            padding: 25px;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
            z-index: 10;
        }

        #info-panel.active { opacity: 1; transform: translateX(0); }
        #info-panel h2 { margin: 0 0 12px 0; font-size: 20px; color: var(--accent); letter-spacing: 1px; }
        #info-panel p { margin: 0; font-size: 15px; line-height: 1.7; color: #e0e0e0; text-align: justify; }

        /* Хотспоты */
        .Hotspot {
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid #fff;
            width: 18px;
            height: 18px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.8);
            transition: transform 0.3s ease;
        }
        .Hotspot:hover { transform: scale(1.6); background: #fff; }

        #ar-button { background: #fff; border-radius: 20px; border: none; padding: 12px 24px; position: absolute; bottom: 30px; right: 30px; font-weight: bold; cursor: pointer; color: #000; }
    </style>
</head>
<body>

    <div class="lang-switcher">
        <button class="lang-btn active" onclick="setLang('ru')">RU</button>
        <button class="lang-btn" onclick="setLang('kz')">KZ</button>
    </div>

    <div id="info-panel">
        <h2 id="info-title">Загрузка...</h2>
        <p id="info-text">Выберите объект на модели для просмотра подробных характеристик.</p>
    </div>

    <model-viewer src="my_model.glb" ar camera-controls tone-mapping="neutral" shadow-intensity="2" auto-rotate>

        <button class="Hotspot" slot="hotspot-8" data-position="0.5644m 1.8532m 18.3852m" data-normal="0m 0m 1m" onmouseover="showData(8)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-9" data-position="11.1544m 4.0896m 14.5385m" data-normal="0.0958m -0.2075m 0.9735m" onmouseover="showData(9)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-10" data-position="22.2750m 4.0559m 17.3067m" data-normal="0m 0m 1m" onmouseover="showData(10)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-11" data-position="30.9266m 4.4094m 15.5866m" data-normal="-0.0980m 0m 0.9951m" onmouseover="showData(11)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-12" data-position="38.7348m 1.9256m 14.6947m" data-normal="-0.0157m -0.4366m 0.8994m" onmouseover="showData(12)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-13" data-position="45.1935m 13.1032m 15.1441m" data-normal="-0.0979m 0.0204m 0.9949m" onmouseover="showData(13)" onmouseout="hideInfo()"></button>

        <button slot="ar-button" id="ar-button">AR РЕЖИМ</button>
    </model-viewer>

    <script>
        let currentLang = 'ru';
        const content = {
            ru: {
                8: { t: "Металлургическая печь", d: "Основной теплотехнический агрегат, где происходит плавление металла. В процессе горения топлива и плавления сырья образуется сложная смесь дымовых газов, содержащая твердые взвеси, оксиды углерода и серы, требующая многоступенчатой очистки перед выбросом." },
                9: { t: "Циклонный сепаратор", d: "Первая ступень сухой очистки. Газовый поток закручивается внутри конуса; тяжелые частицы пыли под действием центробежной силы прижимаются к стенкам и оседают в бункере, а очищенный от крупной фракции газ уходит вверх." },
                10: { t: "Рукавный фильтр (Baghouse)", d: "Аппарат для тонкой механической очистки. Газ проходит сквозь тысячи тканевых рукавов, которые задерживают до 99.9% мелкодисперсной пыли. Оснащен системой импульсной регенерации (встряхивания) для автоматической очистки ткани." },
                11: { t: "Скруббер (Мокрая очистка)", d: "Аппарат, в котором газ промывается жидкостью (обычно водой или щелочным раствором). Эффективно удаляет не только остатки пыли, но и опасные газообразные примеси (SO2, HCl), охлаждая поток перед дальнейшей обработкой." },
                12: { t: "Плазменный реактор", d: "Инновационная установка финишной очистки. Высокоэнергетическая плазма разрушает молекулы токсичных органических соединений и диоксинов, превращая их в безопасные элементарные компоненты. Обеспечивает высочайший экологический стандарт." },
                13: { t: "Дымовая труба", d: "Финальное звено системы. Высотное сооружение создает естественную тягу и обеспечивает рассеивание полностью очищенного и охлажденного газа в верхних слоях атмосферы, исключая концентрацию вредных веществ у земли." }
            },
            kz: {
                8: { t: "Металлургиялық пеш", d: "Металл балқытылатын негізгі жылу техникалық агрегат. Отынның жануы және шикізаттың балқуы кезінде қатты қоспалары, көміртегі және күкірт оксидтері бар түтін газдарының күрделі қоспасы түзіледі, ол шығарылмас бұрын көп сатылы тазартуды қажет етеді." },
                9: { t: "Циклондық сепаратор", d: "Құрғақ тазартудың бірінші сатысы. Газ ағыны конус ішінде иіріледі; шаңның ауыр бөлшектері ортадан тепкіш күштің әсерімен қабырғаларға қысылып, бункерге шөгеді, ал ірі фракциядан тазартылған газ жоғары қарай кетеді." },
                10: { t: "Жеңді сүзгі (Baghouse)", d: "Жұқа механикалық тазарту аппараты. Газ мыңдаған мата жеңдер арқылы өтеді, олар ұсақ шаңның 99.9%-на дейін ұстап қалады. Матаны автоматты түрде тазарту үшін импульстік регенерация (сілку) жүйесімен жабдықталған." },
                11: { t: "Скруббер (Дымқыл тазарту)", d: "Газ сұйықтықпен (әдетте сумен немесе сілтілі ерітіндімен) жуылатын аппарат. Шаң қалдықтарын ғана емес, сонымен қатар қауіпті газ тәрізді қоспаларды (SO2, HCl) тиімді түрде жояды, ағынды одан әрі өңдеу алдында суытады." },
                12: { t: "Плазмалық реактор", d: "Фиништік тазартудың инновациялық қондырғысы. Жоғары энергиялы плазма улы органикалық қосылыстар мен диоксиндердің молекулаларын бұзып, оларды қауіпсіз элементарлы компоненттерге айналдырады. Ең жоғары экологиялық стандартты қамтамасыз етеді." },
                13: { t: "Түтін мұржасы", d: "Жүйенің соңғы буыны. Биік құрылыс табиғи тартымды тудырады және толық тазартылған әрі суытылған газдың атмосфераның жоғарғы қабаттарына таралуын қамтамасыз етеді, бұл зиянды заттардың жерге жақын жиналуын болдырмайды." }
            }
        };

        const panel = document.getElementById('info-panel');
        const title = document.getElementById('info-title');
        const text = document.getElementById('info-text');

        function setLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.innerText.toLowerCase() === lang);
            });
            hideInfo();
        }

        function showData(id) {
            const item = content[currentLang][id];
            title.innerText = item.t;
            text.innerText = item.d;
            panel.classList.add('active');
        }

        function hideInfo() { panel.classList.remove('active'); }
    </script>
</body>
</html>