<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Gas Cleaning System</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        :root { --accent: #00a8ff; }
        body { margin: 0; background: #121212; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        model-viewer { width: 100vw; height: 100vh; background-color: #121212; }

        /* Панель переключения языков */
        .lang-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 5px;
            transition: 0.3s;
        }

        .lang-btn.active {
            background: var(--accent);
            border-color: var(--accent);
        }

        /* Инфо-панель */
        #info-panel {
            position: absolute;
            top: 40px;
            left: 40px;
            width: 320px;
            background: rgba(30, 30, 30, 0.9);
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--accent);
            padding: 20px;
            color: white;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 15px 35px rgba(0,0,0,0.7);
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.4s ease;
            pointer-events: none;
            z-index: 10;
        }

        #info-panel.active { opacity: 1; transform: translateX(0); }
        #info-panel h2 { margin: 0 0 10px 0; font-size: 18px; color: var(--accent); text-transform: uppercase; }
        #info-panel p { margin: 0; font-size: 14px; line-height: 1.6; color: #ccc; }

        /* Хотспоты */
        .Hotspot {
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid #fff;
            width: 16px;
            height: 16px;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.6);
        }

        #ar-button { background: #fff; border-radius: 20px; border: none; padding: 10px 20px; position: absolute; bottom: 20px; right: 20px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div class="lang-switcher">
        <button class="lang-btn active" onclick="setLang('ru')">RU</button>
        <button class="lang-btn" onclick="setLang('kz')">KZ</button>
    </div>

    <div id="info-panel">
        <h2 id="info-title">Объект</h2>
        <p id="info-text">Наведите на маркер.</p>
    </div>

    <model-viewer src="my_model.glb" ar camera-controls tone-mapping="neutral" shadow-intensity="1">

        <button class="Hotspot" slot="hotspot-8" data-position="0.5644m 1.8532m 18.3852m" data-normal="0m 0m 1m" onmouseover="showData(8)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-9" data-position="11.1544m 4.0896m 14.5385m" data-normal="0.0958m -0.2075m 0.9735m" onmouseover="showData(9)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-10" data-position="22.2750m 4.0559m 17.3067m" data-normal="0m 0m 1m" onmouseover="showData(10)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-11" data-position="30.9266m 4.4094m 15.5866m" data-normal="-0.0980m 0m 0.9951m" onmouseover="showData(11)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-12" data-position="38.7348m 1.9256m 14.6947m" data-normal="-0.0157m -0.4366m 0.8994m" onmouseover="showData(12)" onmouseout="hideInfo()"></button>
        <button class="Hotspot" slot="hotspot-13" data-position="45.1935m 13.1032m 15.1441m" data-normal="-0.0979m 0.0204m 0.9949m" onmouseover="showData(13)" onmouseout="hideInfo()"></button>

        <button slot="ar-button" id="ar-button">AR VIEW</button>
    </model-viewer>

    <script>
        let currentLang = 'ru';
        const content = {
            ru: {
                8: { t: "Металлургическая печь", d: "Агрегат для плавки металлов, выделяющий отходящие дымовые газы." },
                9: { t: "Циклонный сепаратор", d: "Аппарат сухой очистки газов под действием центробежных сил." },
                10: { t: "Рукавный фильтр", d: "Аппарат тонкой очистки газов через пористый тканевый материал." },
                11: { t: "Скруббер", d: "Аппарат мокрой очистки газов путём контакта с жидкостью." },
                12: { t: "Плазменный реактор", d: "Использует низкотемпературную плазму для разрушения вредных газов." },
                13: { t: "Дымовая труба", d: "Сооружение для вывода очищенных газов в атмосферу." }
            },
            kz: {
                8: { t: "Металлургиялық пеш", d: "Металдарды балқытуға арналған, газдар бөлетін жылу техникалық агрегат." },
                9: { t: "Циклондық сепаратор", d: "Ортадан тепкіш күштердің әсерімен газдарды құрғақ тазарту аппараты." },
                10: { t: "Жеңді сүзгі", d: "Газдарды кеуекті мата материал арқылы жұқа құрғақ тазарту аппараты." },
                11: { t: "Скруббер", d: "Газ ағынын сұйықтықпен жанастыру арқылы дымқыл тазарту аппараты." },
                12: { t: "Плазмалық реактор", d: "Зиянды газдарды жою үшін төмен температуралы плазманы қолданады." },
                13: { t: "Түтін мұржасы", d: "Тазартылған газдарды атмосфераға шығаруға арналған құрылыс." }
            }
        };

        const panel = document.getElementById('info-panel');
        const title = document.getElementById('info-title');
        const text = document.getElementById('info-text');

        function setLang(lang) {
            currentLang = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.innerText.toLowerCase() === lang);
            });
            hideInfo();
        }

        function showData(id) {
            const item = content[currentLang][id];
            title.innerText = item.t;
            text.innerText = item.d;
            panel.classList.add('active');
        }

        function hideInfo() { panel.classList.remove('active'); }
    </script>
</body>
</html>